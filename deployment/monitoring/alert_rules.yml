groups:
- 
  name: photonic-foundry.rules
  rules:
  - 
    alert: HighErrorRate
    expr: rate(photonic_foundry_errors_total[5m]) > 0.1
    for: 5m
    labels:
      severity: warning
    annotations:
      summary: High error rate detected
      description: Error rate is {{ $value }} per second
  - 
    alert: HighLatency
    expr: histogram_quantile(0.95, rate(photonic_foundry_request_duration_seconds_bucket[5m])) > 1
    for: 5m
    labels:
      severity: warning
    annotations:
      summary: High latency detected
      description: 95th percentile latency is {{ $value }}s
  - 
    alert: PodCrashLooping
    expr: rate(kube_pod_container_status_restarts_total[15m]) > 0
    for: 5m
    labels:
      severity: critical
    annotations:
      summary: Pod is crash looping
      description: Pod {{ $labels.pod }} is restarting frequently
